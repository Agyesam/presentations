using Volo.Abp.Features;
using Volo.Abp.Localization;
using Volo.Abp.Validation.StringValues;

namespace Acme.BookStore;

public class BookStoreFeatureDefinitionProvider : FeatureDefinitionProvider
{
    public override void Define(IFeatureDefinitionContext context)
    {
        var bookStoreGroup = context.AddGroup("BookStore");

        bookStoreGroup.AddFeature(
            "BookStore.StockManagement",
            defaultValue: "false",
            valueType: new ToggleStringValueType());
    }
}

//********************************************************************//

using System;
using System.Threading.Tasks;
using Volo.Abp.Application.Services;
using Volo.Abp.Features;

namespace Acme.BookStore.Books;

[RequiresFeature("BookStore.StockManagement")]
public class BookStockAppService : ApplicationService, IBookStockAppService
{
    public async Task<int> GetStockCountAsync(Guid bookId)
    {
        return 42;
    }
}